<!DOCTYPE html>
<html ng-app="AppModule">
<head>
  <title ng-if="!title">Crud Gen</title>
  <title ng-if="title">{{title}} - Crud Gen</title>

  <link rel="stylesheet" href="css/bootstrap.min.css"/>

  <style>
    #navbar-collapse.ng-cloak, [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
      display: none !important;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-default">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse" ng-if="authenticated">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Crud Gen</a>
    </div>
    <div class="collapse navbar-collapse ng-cloak" id="navbar-collapse" ng-if="authenticated">
      <ul class="nav navbar-nav">
        <li><a href="#/apps">Apps</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#/" ng-click="$root.logout()">Logout</a></li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <div ng-if="false">
      <h3 class="text-center">Setting up...</h3>
      <div class="progress progress-striped active">
        <div class="progress-bar"  role="progressbar" style="width: 100%">
        </div>
      </div>
    </div>

    <div ng-if="$root.loggingOut" ng-cloak>
      <h3 class="text-center">Logging out...</h3>
      <div class="progress progress-striped active">
        <div class="progress-bar"  role="progressbar" style="width: 100%">
        </div>
      </div>
    </div>

    <div ng-if="$root.waitMessages.length" ng-cloak>
      <h3 class="text-center" ng-repeat="message in $root.waitMessages">{{ message.text }}</h3>
      <div class="progress progress-striped active">
        <div class="progress-bar"  role="progressbar" style="width: 100%">
        </div>
      </div>
    </div>

    <div class="alert alert-danger" ng-if="$root.err" ng-cloak>
      <button type="button" class="close" ng-click="$root.err = null">&times;</button>
      {{err}}
    </div>

    <ng-view />
  </div>

  <script type="application/javascript" src="js/bundle.min.js"></script>

  <script type="text/javascript">
    $(function(){
      $(document).on("click", ".collapser", function(){
        var target = $(this).data("target");

        $(target).collapse("toggle");
      });
    });
  </script>
</body>
</html>